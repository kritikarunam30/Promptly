{% extends "layout.html" %}

{% block title %}
    Index 
{% endblock %}

{% block main %}
    <h2 style="font-family: 'Bahnschrift', sans-serif; font-weight: bold;"> Promptly : A Prompt Optimizer</h2>
    <h4></h4> 
    {% if not final_optimised_prompt %}
        <form method="post">
            <div class="card">
                <div class="card-header">
                    <h4 style="font-family: 'Bahnschrift', sans-serif; font-weight: bold;">Enter your Prompt Here</h4>
                </div>
                <div class="card-body">
                    <input type="text" id="initial_prompt" name="initial_prompt" 
                    placeholder="Maximum 150 characters"
                    maxlength="150"
                    class="form-control"
                    style="width: 100%; height: 100px; font-size: 1.2rem;"><br>
                    <input type="submit" value="Submit" class="btn btn-primary">
                </div>
            </div>

        </form>  
    {% else %}
        <div class="card">
            <div class="card-header">
                <h4 style="font-family: 'Bahnschrift', sans-serif; font-weight: bold;">Here is your optimised Prompt</h4>
            </div>
            <div class="card-body">
                <p class="card-text">
                    {% for key,value in final_optimised_prompt.items() %}
                        {% if key == "Optimized Prompt" %}
                            <ul class="para">
                                <li>{{ key }} : {{ value }}</li>
                            </ul>     
                        {% else %}  
                            <ul style="text-align: left;">
                                <li>{{ key }} : {{ value }}</li>
                            </ul> 
                        {% endif %}
                    {% endfor %}
                </p>
                <a href="/result" class="btn btn-primary">Get Result</a>
            </div>
        </div>   
    {% endif %}      
    
    
{% endblock %}